<style>
    #chartdiv {
        width: 100%;
        height: 500px;
    }
</style>

<script src='https://www.amcharts.com/lib/4/core.js'></script>
<script src='https://www.amcharts.com/lib/4/charts.js'></script>
<script src='https://www.amcharts.com/lib/4/themes/animated.js'></script>

<script>
    am4core.ready(function () {
        am4core.useTheme(am4themes_animated);
        
        var chart = am4core.create('chartdiv', am4charts.XYChart);

        chart.data = [{
            'month': 'Janvier 2019',
            'incident': 1,
            'defect': 2,
            'intervention': 3,
            'sickness_leave': 4,
            'paid_leave': 5
        }, {
            'month': 'Février 2019',
            'incident': 10,
            'defect': 20,
            'intervention': 30,
            'sickness_leave': 40,
            'paid_leave': 50
        }, {
            'month': 'Mars 2019',
            'incident': 15,
            'defect': 0,
            'intervention': 40,
            'sickness_leave': 5,
            'paid_leave': 20            
        }, {
            'month': 'Avril 2019',
            'incident': 20,
            'defect': 20,
            'intervention': 20,
            'sickness_leave': 20,
            'paid_leave': 20            
        }, {
            'month': 'Mai 2019',
            'incident': 20,
            'defect': 20,
            'intervention': 20,
            'sickness_leave': 20,
            'paid_leave': 20            
        }, {
            'month': 'Juin 2019',
            'incident': 20,
            'defect': 20,
            'intervention': 20,
            'sickness_leave': 20,
            'paid_leave': 20            
        }, {
            'month': 'Juillet 2019',
            'incident': 20,
            'defect': 20,
            'intervention': 20,
            'sickness_leave': 20,
            'paid_leave': 20            
        }, {
            'month': 'Août 2019',
            'incident': 20,
            'defect': 20,
            'intervention': 20,
            'sickness_leave': 20,
            'paid_leave': 20            
        }, {
            'month': 'Septembre 2019',
            'incident': 20,
            'defect': 20,
            'intervention': 20,
            'sickness_leave': 20,
            'paid_leave': 20            
        }];

        var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
        categoryAxis.dataFields.category = 'month';
        categoryAxis.title.text = 'Types d\'incidents';
        categoryAxis.renderer.grid.template.location = 0;
        categoryAxis.renderer.minGridDistance = 20;
        categoryAxis.renderer.cellStartLocation = 0.1;
        categoryAxis.renderer.cellEndLocation = 0.9;

        var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
        valueAxis.min = 0;
        valueAxis.title.text = 'Nombre d\'incidents par type';

        function createSeries(field, name, stacked, color) {
            var series = chart.series.push(new am4charts.ColumnSeries());
            series.dataFields.valueY = field;
            series.dataFields.categoryX = 'month';
            series.name = name;
            series.columns.template.tooltipText = '{name}: [bold]{valueY}[/]';
            series.stacked = stacked;
            series.columns.template.width = am4core.percent(95);
            series.columns.template.fill = am4core.color(color);
        }

        createSeries('incident', 'Incident', true, "#FF0000");
        createSeries('defect', 'Analyse', true, "#00FF00");
        createSeries('intervention', 'Intervention', true, "#FFFF00");
        createSeries('sickness_leave', 'Congé maladie', true, "#00FFFF");
        createSeries('paid_leave', 'Congé payé', true, "#FF00FF");

        chart.legend = new am4charts.Legend();

    });
</script>

<div id='chartdiv'></div>